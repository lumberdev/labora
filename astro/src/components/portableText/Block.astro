---
/**
 * This `Block` component customizes the rendering of Portable Text blocks.
 * It handles normal text and blockquotes, falling back to default rendering
 * for other block types.
 */

import type { BlockProps } from 'astro-portabletext/types'
import { usePortableText } from 'astro-portabletext'
import Quote from './Quote.astro'
type Props = BlockProps

const props = Astro.props
const { getDefaultComponent } = usePortableText(props.node)
const styleIs = (style: string) => style === props.node.style

const Cmp = styleIs('blockquote') ? Quote : getDefaultComponent() // Fallback to `astro-portabletext` Block component
---

<Cmp {...props}><slot /></Cmp>
